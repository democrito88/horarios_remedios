<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hor√°rio de rem√©dios</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @media print {
  body * {
    visibility: hidden;
  }
  #print-area, #print-area * {
    visibility: visible;
  }
  #print-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
  }
  #print-btn {
    display: none;
  }

  /* For√ßar bordas s√≥lidas pretas na impress√£o */
  table, th, td {
    border: 1px solid #000 !important;
    border-collapse: collapse !important;
  }

  /* For√ßar qualquer coisa com classe .border a ficar preta */
  #print-area .border {
    border: 1px solid #000 !important;
  }
}

  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center p-6">

    <!-- Formul√°rio -->
    <div class="bg-white shadow-lg rounded-lg w-full max-w-lg p-6 mb-4">
        <form action="">
            <div class="flex justify-around">
                <div>
                    <label for="de">De</label>
                    <input type="number" min="0" max="23" name="de" id="de" class="py-2 px-4 rounded">
                    <label for="">hora(s)</label>
                </div>
                <div>
                    <label for="ate">At√©</label>
                    <input type="number" min="0" max="23" name="ate" id="ate" class="py-2 px-4 rounded">
                    <label for="">horas</label>
                </div>
            </div>
            <div>
                <label for="intervalo">Intervalo entre hor√°rios</label>
                <input type="number" min="1" max="23" name="intervalo" id="intervalo" class="py-2 px-4 rounded">
                <label for="">hora(s)</label>
            </div>
            <div>
                <label for="quantidade">Quantidade de rem√©dios</label>
                <input type="number" name="quantidade" id="quantidade" class="py-2 px-4 rounded">
            </div>
        </form>
    </div>

    <!-- Quadro a ser impresso -->
    <div id="print-area" class="bg-white shadow-lg rounded-lg w-full p-6">
        <div class="w-full flex flex-col justify-center items-center gap-2">
            <h1 class="text-2xl font-bold mb-2 text-blue-600"> üíä Hor√°rios de rem√©dios</h1>
            <small class="">nome do paciente</small>
            <div class="border border-black h-8 w-80 m-auto mb-3"></div>
        </div>
        <div class="overflow-x-auto">
            <table class="table-auto w-full border border-gray-400">
                <thead></thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- Bot√£o de imprimir -->
    <button id="print-btn" onclick="window.print()" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
        üñ®Ô∏è Imprimir tabela
    </button>

<script>
    var de = 7, ate = 23, intervalo = 2;

    document.addEventListener('DOMContentLoaded', () => cabecalhoHorarios());
    document.querySelector('#quantidade').addEventListener('input', () => {
        let quantidade = document.querySelector('#quantidade').value;
        document.querySelector('tbody').innerHTML = "";
        for (let i = 0; i < quantidade; i++){
            let linha = document.createElement('tr');
            linha.classList.add('h-10');
            for(let j = de; j < (ate + intervalo); j+=intervalo){
                linha.innerHTML += `<td class="border border-black px-4 py-2"></td>`;
            }
            document.querySelector('tbody').appendChild(linha);
        }
    });
    document.querySelector('#de').addEventListener('input', () => atualizarHorarios());
    document.querySelector('#ate').addEventListener('input', () => atualizarHorarios());
    document.querySelector('#intervalo').addEventListener('input', () => atualizarHorarios());

    function cabecalhoHorarios(){
        de = parseInt(document.querySelector('#de').value ?? 7);
        ate = parseInt(document.querySelector('#ate').value ?? 23);
        intervalo = parseInt(document.querySelector('#intervalo').value ?? 2);
        let tr = document.createElement('tr');
        tr.innerHTML = `<th class="border border-black px-4 py-2"></th>`;
        for (let i = de; i < ate; i+=intervalo){
            tr.innerHTML += `<th class="border border-black px-4 py-2 w-8">${i}:00</th>`;
        }
        document.querySelector('thead').appendChild(tr);
    }
    function gerarHorarios(de = 7, ate = 23, intervalo=2){
        document.querySelector('thead').innerHTML = "";
        let tr = document.createElement('tr');
        tr.innerHTML = `<th class="border border-black px-4 py-2"></th>`;
        for (let i = de; i <= ate; i+=intervalo){
            tr.innerHTML += `<th class="border border-black px-4 py-2 w-8">${i}:00</th>`;
        }
        document.querySelector('thead').appendChild(tr);
    }
    function atualizarHorarios(){
        de = parseInt(document.querySelector('#de').value);
        ate = parseInt(document.querySelector('#ate').value);
        intervalo = parseInt(document.querySelector('#intervalo').value);
        gerarHorarios(de, ate, intervalo);
    }
</script>
</body>
</html>
